{
  "kind": "build_request",
  "title": "Update checklist form: add shut-off valve exercised + toilet tank cracks/leaks check",
  "projectName": "Safety Inspection",
  "priority": "normal",
  "requirements": [
    {
      "id": "REQ-1",
      "text": "Add a new checklist field labeled \"Main Shut Off Valve Exercised\" to the form, store it in the checklist data model, and include it in the generated PDF output.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-1"
        ],
        "quotes": [
          "Add Main Shut Off Valve Exercised."
        ]
      },
      "acceptanceCriteria": [
        "The checklist TypeScript type (frontend/src/lib/checklist/types.ts) includes a new boolean field for \"Main Shut Off Valve Exercised\" (placed in the appropriate section with the existing main shut-off valve item).",
        "Default checklist data (frontend/src/lib/checklist/defaults.ts) initializes the new field to false.",
        "Checklist form UI (frontend/src/pages/ChecklistFormPage.tsx) renders a checkbox with the label exactly: \"Main Shut Off Valve Exercised\" and updates the form state when toggled.",
        "Generated PDF content (frontend/src/lib/pdf/generateChecklistPdf.ts) includes a corresponding line with an [X]/[ ] marker reflecting the userâ€™s selection."
      ]
    },
    {
      "id": "REQ-2",
      "text": "In the Toilet section of the checklist form, add a new item labeled \"Toilet tank is free of cracks/leaks\", store it in the checklist data model, and include it in the generated PDF output.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-1"
        ],
        "quotes": [
          "And in the toilet section, add Toilet tank is free of cracks/leaks."
        ]
      },
      "acceptanceCriteria": [
        "The checklist TypeScript type (frontend/src/lib/checklist/types.ts) includes a new field for \"Toilet tank is free of cracks/leaks\" under the existing toilet subsection, using the same value style as other yes/no fields (\"yes\" | \"no\" | \"\").",
        "Default checklist data (frontend/src/lib/checklist/defaults.ts) initializes the new toilet tank field to an empty string.",
        "Checklist form UI (frontend/src/pages/ChecklistFormPage.tsx) renders the new question in the toilet area using the existing YesNoField component with the label exactly: \"Toilet tank is free of cracks/leaks\".",
        "Generated PDF content (frontend/src/lib/pdf/generateChecklistPdf.ts) includes a line for this new toilet tank item and prints the selected value (yes/no) or N/A when unset."
      ]
    }
  ],
  "constraints": [
    "Do not modify files under frontend/src/components/ui (read-only).",
    "Do not modify frontend/src/hooks/useInternetIdentity.ts or frontend/src/hooks/useActor.ts (immutable paths).",
    "Keep all changes within the existing single React app and existing PDF generation approach (no new backend/service dependencies)."
  ],
  "nonGoals": [
    "Do not change Dropbox upload behavior or token handling as part of this request.",
    "Do not redesign the entire form; only add the two requested fields and ensure they appear in the PDF."
  ],
  "imageRequirements": {
    "required": [],
    "edits": []
  },
  "userProfileUpdate": {
    "goalsToAdd": [],
    "goalsToRemove": [],
    "preferencesToAdd": [],
    "preferencesToRemove": [],
    "miscToAdd": [],
    "miscToRemove": [],
    "fieldsToSet": {},
    "fieldsToDelete": []
  }
}